# SRS management

The **SRS management** service is designed to provide API-based control over video streams processed by the **SRS media server**.

The **Simple Realtime Server (SRS)** allows for RTMP and SRT streaming, delivering them as HLS streams with transcoding capabilities and support for multiple bitrates. However, the SRS lacks stream management functionality and the ability to restrict video streaming based on authorization.

SRS management adds the following functionalities:
- Creation of streams with specified publishing passwords for protection against unauthorized streaming.
- Retrieval of stream information, including its state, start and end dates of streaming.
- Stopping a stream with termination of incoming stream.
- Generation of HLS playlists with multiple bitrates.
- Generation of a live HLS playlist containing only the last 6 video chunks, without rewind capability.
- Generation of a DVR HLS playlist, allowing for rewinding.
- Deletion of a stream along with all video recordings associated with that stream.
- These functionalities are implemented through HTTP REST and gRPC APIs, with authentication using a technical token passed in the Authorization header.

The SRS management service interacts with files generated by SRS (ts, m3u8), so it is deployed on the same server and has access rights to SRS files.

Postgres database is used by the service to store stream information.

Basic configuration for the SRS management service:
```
DATABASE_URI=host=<host> port=<port> user=<dbuser> password=<dbpassword> dbname=<dbuser> sslmode=disable
HTTP_ADDR=127.0.0.1:8887
GRPC_ADDR=127.0.0.1:9087
SRS_ADDR=<SRS media server API>
HLS_ADDR=<Nginx media location>
LIVE_TS_PATH=<SRS playlists and TS location>
RTMP_ADDR=<RTMP publish location>
SRT_ADDR=<SRT publish location>
APIKEY=<secret API key>
SRS_CONF_PATH=<SRS config location on disk>
CACHE_TTL=3
PPROF_ENABLED=true
DEBUG=true
```
Basic SRS configuration: srs_base.tpl

## Authors
<div style="display: inline;">
<div style="float: left; text-align: center">
    <a href="https://github.com/Sixty00"><img src="https://avatars.githubusercontent.com/u/48889866?v=4" style="border-radius: 50%; margin:10px 10px 10px 0px" width=80></a>
    <label style="display:block"><a href="https://github.com/Sixty00">Sixty00</a></label>
</div>
<div style="float: left; text-align: center">
    <a href="https://github.com/vjp"><img src="https://avatars.githubusercontent.com/u/423855?v=4" style="border-radius: 50%; margin:10px" width=80></a>
    <label style="display:block"><a href="https://github.com/vjp">VJP</a></label>
</div>
<div style="float: left; text-align: center">
    <a href="https://github.com/stasich7"><img src="https://avatars.githubusercontent.com/u/6511998?v=4" style="border-radius: 50%; margin:10px" width=80></a>
    <label style="display:block"><a href="https://github.com/stasich7">Stasich7</a></label>
</div>
